# xiaoying
python爬虫框架scrapy练手项目

定时爬取小盈理财项目列表，并把抓取的项目数据存入数据库
运行项目之前创建数据表，xiaoying.sql

## 单次执行任务
cd 到xiaoying目录

<code>scrapy crawl xiaoying</code>

## 定时执行
在unix/linux系统执行
crontab -e
添加下面一行，实现每5秒抓一次项目列表 path_to_xiaoying为项目在unix/linux 系统中的绝对路径

<code>* * * * * path_to_xiaoying/time_task.sh</code>

## 查看数据

在数据库中查询 
<pre>
mysql> select * from xy_project limit 5;
+--------------------+------------------------------------+-----------+--------------+------------+------------+---------------------+
| project_id         | project_name                       | year_rate | total_amount | time_limit | ctime      | ctime_timestamp     |
+--------------------+------------------------------------+-----------+--------------+------------+------------+---------------------+
| 147449875882606709 | 网贷36月期·147449875882606709      | 9.5       |     49700.00 |         36 | 1539264311 | 2018-10-11 21:25:11 |
| 147545281043136613 | 网贷36月期·147545281043136613      | 9.5       |     29700.00 |         36 | 1539264311 | 2018-10-11 21:25:11 |
| 147545316489986170 | 网贷36月期·147545316489986170      | 9.5       |     29700.00 |         36 | 1539264311 | 2018-10-11 21:25:11 |
| 147557723575713909 | 网贷36月期·147557723575713909      | 9.5       |     44700.00 |         36 | 1539264311 | 2018-10-11 21:25:11 |
| 147814182505971725 | 网贷12月期·147814182505971725      | 8         |      5000.00 |         12 | 1539264491 | 2018-10-11 21:28:11 |
+--------------------+------------------------------------+-----------+--------------+------------+------------+---------------------+
5 rows in set (0.01 sec)

</pre>
